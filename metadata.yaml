name: salesforce-add-to-permission-set
description: Add a user to a permission set in Salesforce

# Input parameters for web form generation
inputs:
  username:
    type: text
    description: Salesforce username to add to permission set
    required: true
    validation:
      min: 1
      max: 200

  permissionSetId:
    type: text
    description: Salesforce permission set ID (e.g., 0PS000000000001)
    required: true
    validation:
      min: 1
      max: 18

  apiVersion:
    type: text
    description: Salesforce API version
    required: false
    default: "v61.0"
    validation:
      min: 1
      max: 10

# Expected output structure
outputs:
  status:
    type: text
    description: Operation result (success, failed, recovered, etc.)

  username:
    type: text
    description: The username that was processed

  userId:
    type: text
    description: Salesforce user ID that was found

  permissionSetId:
    type: text
    description: Permission set ID that was assigned

  assignmentId:
    type: text
    description: Permission set assignment ID (if created)

# Required secrets
secrets:
  SALESFORCE_ACCESS_TOKEN:
    description: Salesforce OAuth access token

# Required environment variables
environment:
  SALESFORCE_INSTANCE_URL:
    description: Salesforce instance URL (e.g., https://mycompany.my.salesforce.com)